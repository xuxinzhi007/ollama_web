#!/bin/bash

# ğŸš€ ç»Ÿä¸€LoRAè®­ç»ƒå¯åŠ¨è„šæœ¬
# ç”¨æ³•ï¼š
#   ./train                    # äº¤äº’å¼é€‰æ‹©è§’è‰²
#   ./train linzhi             # ç›´æ¥è®­ç»ƒæŒ‡å®šè§’è‰²
#   ./train --menu             # æ˜¾ç¤ºå®Œæ•´èœå•ï¼ˆæ¨èï¼‰
#   ./train --list             # åˆ—å‡ºæ‰€æœ‰é…ç½®
#   ./train --scan             # æ‰«ææ•°æ®é›†
#   ./train --cache            # æ£€æŸ¥æ¨¡å‹ç¼“å­˜çŠ¶æ€
#   ./train linzhi --ollama    # è®­ç»ƒå¹¶å¯¼å‡ºåˆ°Ollama
#   ./train linzhi --ollama_name "my-model"  # æŒ‡å®šOllamaæ¨¡å‹å

cd "$(dirname "$0")"

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœå­˜åœ¨ï¼‰
if [ -d ".venv" ]; then
    source .venv/bin/activate
fi

# è¿è¡Œæ™ºèƒ½è®­ç»ƒè„šæœ¬
python smart_train.py "$@"